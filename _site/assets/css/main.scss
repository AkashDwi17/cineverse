--- --- @charset "utf-8";

// ========================================
// 1. IMPORTS & TYPOGRAPHY
// ========================================
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700&family=JetBrains+Mono:wght@400;700&display=swap');

// ========================================
// 2. VARIABLE DEFINITIONS (Before Theme Import)
// ========================================

// Brand Colors
$red-primary: #D32F2F;
$red-accent: #B71C1C;
$red-light: #FFCDD2;

$black-base: #121212;
$black-text: #212121;
$grey-text: #424242;
$grey-light: #757575;

$white-base: #FFFFFF;
$white-secondary: #F8F9FA;
$white-off: #F1F3F5;

// Global Typography Override
$global-font-family: 'Outfit', sans-serif !default;
$header-font-family: 'Outfit', sans-serif !default;
$caption-font-family: 'Outfit', sans-serif !default;
$code-font-family: 'JetBrains Mono', monospace !default;

// Minimal Mistakes Skin overrides
$background-color: $white-base;
$text-color: $black-text;
$muted-text-color: $grey-text;

$primary-color: $red-primary; // Links and accents
$border-color: #E0E0E0;

// Components
$code-background-color: $black-base; // Dark background for code
$code-text-color: #EEEEEE;

// Navigation
$masthead-link-color: $black-text;
$masthead-link-color-hover: $red-primary;

// Footer
$footer-background-color: $white-secondary;

// Buttons
$btn-primary-bg: $red-primary;
$btn-primary-color: $white-base;

// ========================================
// 3. IMPORT THEME
// ========================================
@import "minimal-mistakes";

// ========================================
// 4. CUSTOM OVERRIDES (After Theme Import)
// ========================================

// --- General UI Polish ---

body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

// Add depth with shadows
.archive__item-teaser,
.sidebar,
.feature__wrapper .feature__item {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    border-radius: 12px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.archive__item-teaser:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
}

// Rounded Corners for standard elements
.btn {
    border-radius: 6px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

// --- Navigation & Header ---
.masthead {
    background-color: $white-base !important;
    border-bottom: 2px solid $red-primary;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.greedy-nav {
    background: $white-base !important;
}

.greedy-nav a {
    color: $black-text !important;
    font-weight: 500;
}

.greedy-nav a:hover {
    color: $red-primary !important;
}

.greedy-nav .visible-links a:before {
    background: $red-primary;
}

// --- Sidebar & TOC ---
.sidebar {
    background-color: $white-secondary !important;
    border: 1px solid #eee;
}

.nav__sub-title {
    color: $black-text !important;
    font-weight: 700;
}

.nav__list .nav__items {
    font-size: 0.95em;
}

.toc .nav__title {
    background: $red-primary !important;
    color: $white-base !important;
    border-radius: 8px 8px 0 0;
}

.toc {
    border-radius: 8px;
    background-color: $white-secondary !important;
    border: 1px solid #eee;
}

// --- Footer ---
.page__footer {
    background-color: $white-secondary !important;
    border-top: 1px solid $red-primary;
    color: $black-text !important;
}

.page__footer a {
    color: $red-primary !important;
    font-weight: 500;
}

// ========================================
// 5. CODE BLOCK STYLING (Dark Theme with Red Accents)
// ========================================

// Pre/Code Wrapper
pre,
code,
.highlight {
    background-color: $black-base !important;
    color: $code-text-color !important;
    border-radius: 8px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9em;
}

// Inline code
p>code,
li>code,
a>code {
    color: #D32F2F !important; // Red for inline code to pop against white bg
    background-color: #FFEBEE !important; // Very light red bg
    padding: 0.15em 0.4em;
    border-radius: 4px;
    border: 1px solid #FFCDD2;
}

// Block Code (Rouge) Highlighting Colors
// We force overrides on specific span classes used by Rouge

.highlight {

    // Comments
    .c,
    .cm,
    .cp,
    .c1,
    .cs {
        color: #757575 !important;
        font-style: italic;
    }

    // Grey

    // Keywords -> RED
    .k,
    .kc,
    .kd,
    .kp,
    .kr,
    .kt,
    .o {
        color: #FF5252 !important;
        font-weight: bold;
    }

    // Strings -> Off-White / Light Grey
    .s,
    .sb,
    .sc,
    .sd,
    .s2,
    .se,
    .sh,
    .si,
    .sx,
    .s1 {
        color: #E0E0E0 !important;
    }

    // Variables / Attributes -> White or Soft Red
    .nv,
    .vc,
    .vg,
    .vi {
        color: #FFCDD2 !important;
    }

    .na,
    .nb,
    .nc,
    .no,
    .nd,
    .ni,
    .ne,
    .nf {
        color: #FF8A80 !important;
    }

    // Numbers / Constants -> Accent Red
    .m,
    .mf,
    .mh,
    .mi,
    .mo,
    .il {
        color: #FF5252 !important;
    }

    // Generic text within code block
    color: #EEEEEE !important;
}

// Refine Copy Button if present (Assuming standard minimal mistakes or custom)
.code-header {
    background-color: #212121;
    border-bottom: 1px solid #333;
}